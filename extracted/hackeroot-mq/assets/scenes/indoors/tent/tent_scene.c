#include "ultra64.h"
#include "z64.h"
#include "macros.h"
#include "tent_scene.h"
#include "segment_symbols.h"
#include "command_macros_base.h"
#include "z64cutscene_commands.h"
#include "variables.h"
#include "assets/misc/link_animetion/link_animetion.h"
#include "assets/objects/gameplay_keep/gameplay_keep.h"
#include "tent_room_0.h"

SceneCmd tent_sceneCommands[] = {
    SCENE_CMD_SOUND_SETTINGS(5, 19, 31),
    SCENE_CMD_ROOM_LIST(1, tent_sceneRoomList0x000068),
    SCENE_CMD_MISC_SETTINGS(0x20, 0x00000009),
    SCENE_CMD_COL_HEADER(&tent_sceneCollisionHeader_00064C),
    SCENE_CMD_ENTRANCE_LIST(tent_sceneEntranceList0x000070),
    SCENE_CMD_SPECIAL_FILES(NAVI_QUEST_HINTS_NONE, OBJECT_GAMEPLAY_FIELD_KEEP),
    SCENE_CMD_SPAWN_LIST(1, tent_sceneStartPositionList0x000058),
    SCENE_CMD_SKYBOX_SETTINGS(28, 0, true),
    SCENE_CMD_EXIT_LIST(tent_sceneExitList_000074),
    SCENE_CMD_ENV_LIGHT_SETTINGS(1, tent_sceneLightSettings0x000078),
    SCENE_CMD_END(),
};

ActorEntry tent_sceneStartPositionList0x000058[] = {
    { ACTOR_PLAYER,     {     -2,      0,    174 }, {      0, 0X8000,      0 }, 0x0E00 },
};

RomFile tent_sceneRoomList0x000068[] = {
    { (uintptr_t)_tent_room_0SegmentRomStart, (uintptr_t)_tent_room_0SegmentRomEnd },
};

Spawn tent_sceneEntranceList0x000070[] = {
    { 0x00, 0x00 },
    { 0x00, 0x00 },
};

u16 tent_sceneExitList_000074[] = {
    ENTR_GERUDO_VALLEY_4,
    ENTR_DEKU_TREE_0,
};

EnvLightSettings tent_sceneLightSettings0x000078[] = {
    { 0x46, 0x28, 0x28, 0xCB, 0x4C, 0xAA, 0xE6, 0xBE, 0xAA, 0x2F, 0xED, 0x74, 0xA0, 0x8C, 0x78, 0x0A, 0x0A, 0x0A,
    0x07E0, 0x07D0 },
};

Vec3s tent_sceneCollisionHeader_00064CCamPosData[] = {
    {    -40,    460,      0 },
    {  14928,  17658,      0 },
    {   5000,     -1,     -1 },
    {   -128,     44,    100 },
    {      0,      0,      0 },
    {   6000,     -1,     -1 },
};

BgCamInfo tent_sceneCollisionHeader_00064CCamDataList[] = {
    { 0x0019, 3, &tent_sceneCollisionHeader_00064CCamPosData[0] },
    { 0x001A, 3, &tent_sceneCollisionHeader_00064CCamPosData[3] },
    { 0x0000, 0, NULL },
};

SurfaceType tent_sceneCollisionHeader_00064CSurfaceType[] = {
    {0x00000102, 0x00000FC0},   {0x00000002, 0x00000FC0},   {0x00000002, 0x00000FCA},
};

CollisionPoly tent_sceneCollisionHeader_00064CPolygons[] = {
    {0x0000, 0x000F, 0x0010, 0x0011, 0x0000, 0x7FFF, 0x0000, 0x0000},
    {0x0000, 0x000F, 0x0011, 0x0012, 0x0000, 0x7FFF, 0x0000, 0x0000},
    {0x0001, 0x0013, 0x0014, 0x0015, 0x326C, 0x0000, 0x8A5A, 0xFFDB},
    {0x0001, 0x0013, 0x0015, 0x0016, 0x326C, 0x0000, 0x8A5A, 0xFFDB},
    {0x0001, 0x0014, 0x0017, 0x0018, 0xCD94, 0x0000, 0x8A5A, 0xFFDB},
    {0x0001, 0x0014, 0x0018, 0x0015, 0xCD94, 0x0000, 0x8A5A, 0xFFDB},
    {0x0001, 0x0017, 0x0019, 0x001A, 0x8A5A, 0x0000, 0xCD94, 0xFFDB},
    {0x0001, 0x0017, 0x001A, 0x0018, 0x8A5A, 0x0000, 0xCD94, 0xFFDB},
    {0x0001, 0x0019, 0x001B, 0x001C, 0x8A5A, 0x0000, 0x326C, 0xFFDB},
    {0x0001, 0x0019, 0x001C, 0x001A, 0x8A5A, 0x0000, 0x326C, 0xFFDB},
    {0x0001, 0x001B, 0x001D, 0x001E, 0xCD94, 0x0000, 0x75A6, 0xFFDB},
    {0x0001, 0x001B, 0x001E, 0x001C, 0xCD94, 0x0000, 0x75A6, 0xFFDB},
    {0x0001, 0x001D, 0x001F, 0x0020, 0x326C, 0x0000, 0x75A6, 0xFFDB},
    {0x0001, 0x001D, 0x0020, 0x001E, 0x326C, 0x0000, 0x75A6, 0xFFDB},
    {0x0001, 0x001F, 0x0021, 0x0022, 0x75A6, 0x0000, 0x326C, 0xFFDB},
    {0x0001, 0x001F, 0x0022, 0x0020, 0x75A6, 0x0000, 0x326C, 0xFFDB},
    {0x0001, 0x0021, 0x0013, 0x0016, 0x75A6, 0x0000, 0xCD94, 0xFFDB},
    {0x0001, 0x0021, 0x0016, 0x0022, 0x75A6, 0x0000, 0xCD94, 0xFFDB},
    {0x0001, 0x0023, 0x0024, 0x0025, 0x0000, 0x8001, 0x0000, 0x0064},
    {0x0001, 0x0023, 0x0025, 0x0026, 0x0000, 0x8001, 0x0000, 0x0064},
    {0x0001, 0x0011, 0x0010, 0x0024, 0x8001, 0x0000, 0x0000, 0x001E},
    {0x0001, 0x0011, 0x0024, 0x0023, 0x8001, 0x0000, 0x0000, 0x001E},
    {0x0001, 0x0026, 0x0025, 0x000F, 0x7FFF, 0x0000, 0x0000, 0x001E},
    {0x0001, 0x0026, 0x000F, 0x0012, 0x7FFF, 0x0000, 0x0000, 0x001E},
    {0x0001, 0x0027, 0x0028, 0x0029, 0x0000, 0x7FFF, 0x0000, 0x0000},
    {0x0001, 0x0027, 0x0029, 0x002A, 0x0000, 0x7FFF, 0x0000, 0x0000},
    {0x0001, 0x0027, 0x002A, 0x002B, 0x7BED, 0xDFFC, 0x0000, 0x0097},
    {0x0001, 0x0027, 0x002B, 0x002C, 0x7BED, 0xDFFC, 0x0000, 0x0097},
    {0x0001, 0x002D, 0x002E, 0x0029, 0x8413, 0xDFFC, 0x0000, 0x0097},
    {0x0001, 0x002D, 0x0029, 0x0028, 0x8413, 0xDFFC, 0x0000, 0x0097},
    {0x0001, 0x002C, 0x0026, 0x0012, 0xFF78, 0xEA8C, 0x81D1, 0x00C5},
    {0x0001, 0x002C, 0x0012, 0x0027, 0x0000, 0xEAF5, 0x81BF, 0x00C5},
    {0x0001, 0x002C, 0x002D, 0x0023, 0x0000, 0xED03, 0x816C, 0x00C4},
    {0x0001, 0x002C, 0x0023, 0x0026, 0x0000, 0xED03, 0x816C, 0x00C4},
    {0x0001, 0x002D, 0x0028, 0x0011, 0x0000, 0xEAF5, 0x81BF, 0x00C5},
    {0x0001, 0x002D, 0x0011, 0x0023, 0x0088, 0xEA8C, 0x81D1, 0x00C5},
    {0x0001, 0x002F, 0x0030, 0x0031, 0x7FFF, 0x0000, 0x0000, 0xFF86},
    {0x0001, 0x002F, 0x0031, 0x0032, 0x7FFF, 0x0000, 0x0000, 0xFF86},
    {0x0001, 0x002F, 0x0033, 0x0034, 0x0000, 0x0000, 0x7FFF, 0x00A6},
    {0x0001, 0x002F, 0x0034, 0x0030, 0x0000, 0x0000, 0x7FFF, 0x00A6},
    {0x0001, 0x0035, 0x0036, 0x0037, 0x0000, 0x0000, 0x7FFF, 0x00C8},
    {0x0001, 0x0035, 0x0037, 0x0038, 0x0000, 0x0000, 0x7FFF, 0x00C8},
    {0x0001, 0x0038, 0x0034, 0x0033, 0x8001, 0x0000, 0x0000, 0xFF86},
    {0x0001, 0x0038, 0x0033, 0x0035, 0x8001, 0x0000, 0x0000, 0xFF86},
    {0x0001, 0x0039, 0x0032, 0x0031, 0x0000, 0x0000, 0x7FFF, 0x00C8},
    {0x0001, 0x0039, 0x0031, 0x003A, 0x0000, 0x0000, 0x7FFF, 0x00C8},
    {0x0002, 0x0008, 0x0009, 0x000A, 0x0000, 0x7FFF, 0x0000, 0xFFEC},
    {0x0002, 0x0008, 0x000A, 0x000B, 0x0000, 0x7FFF, 0x0000, 0xFFEC},
    {0x0001, 0x000C, 0x000D, 0x000B, 0x0000, 0x0000, 0x8001, 0x00A8},
    {0x0001, 0x000C, 0x000B, 0x000A, 0x0000, 0x0000, 0x8001, 0x00A8},
    {0x0001, 0x0008, 0x000B, 0x000D, 0x8001, 0x0000, 0x0000, 0x0028},
    {0x0001, 0x0008, 0x000D, 0x000E, 0x8001, 0x0000, 0x0000, 0x0028},
    {0x0001, 0x0000, 0x0001, 0x0002, 0x0000, 0x0000, 0x8001, 0xFFAE},
    {0x0001, 0x0000, 0x0002, 0x0003, 0x0000, 0x0000, 0x8001, 0xFFAE},
    {0x0001, 0x0001, 0x0000, 0x0004, 0x8001, 0x0000, 0x0000, 0x0076},
    {0x0001, 0x0001, 0x0004, 0x0005, 0x8001, 0x0000, 0x0000, 0x0076},
    {0x0001, 0x0006, 0x0005, 0x0004, 0x0000, 0x0000, 0x7FFF, 0x002E},
    {0x0001, 0x0006, 0x0004, 0x0007, 0x0000, 0x0000, 0x7FFF, 0x002E},
    {0x0001, 0x003B, 0x003C, 0x003D, 0x7FFF, 0x0000, 0x0000, 0x0070},
    {0x0001, 0x003B, 0x003D, 0x003E, 0x7FFF, 0x0000, 0x0000, 0x0070},
    {0x0001, 0x003C, 0x003B, 0x003F, 0x0000, 0x0000, 0x8001, 0x002D},
    {0x0001, 0x003C, 0x003F, 0x0040, 0x0000, 0x0000, 0x8001, 0x002D},
};

Vec3s tent_sceneCollisionHeader_00064CVertices[] = {
    {    118,      0,    -82 },
    {    118,    156,    -82 },
    {    154,    156,    -82 },
    {    154,      0,    -82 },
    {    118,      0,    -46 },
    {    118,    156,    -46 },
    {    154,    156,    -46 },
    {    154,      0,    -46 },
    {     40,     20,    200 },
    {    156,     20,    200 },
    {    156,     20,    168 },
    {     40,     20,    168 },
    {    156,      0,    168 },
    {     40,      0,    168 },
    {     40,      0,    200 },
    {    -30,      0,    280 },
    {     30,      0,    280 },
    {     30,      0,    200 },
    {    -30,      0,    200 },
    {     28,      0,    -28 },
    {      0,      0,    -40 },
    {      0,    120,    -40 },
    {     28,    120,    -28 },
    {    -28,      0,    -28 },
    {    -28,    120,    -28 },
    {    -40,      0,      0 },
    {    -40,    120,      0 },
    {    -28,      0,     28 },
    {    -28,    120,     28 },
    {      0,      0,     40 },
    {      0,    120,     40 },
    {     28,      0,     28 },
    {     28,    120,     28 },
    {     40,      0,      0 },
    {     40,    120,      0 },
    {     30,    100,    183 },
    {     30,    100,    280 },
    {    -30,    100,    280 },
    {    -30,    100,    183 },
    {   -156,      0,    200 },
    {    156,      0,    200 },
    {    156,      0,   -200 },
    {   -156,      0,   -200 },
    {   -125,    120,   -180 },
    {   -125,    120,    180 },
    {    125,    120,    180 },
    {    125,    120,   -180 },
    {    122,    120,   -166 },
    {    122,      0,   -166 },
    {    122,      0,   -200 },
    {    122,    120,   -200 },
    {   -122,    120,   -166 },
    {   -122,      0,   -166 },
    {   -122,    120,   -200 },
    {   -150,    120,   -200 },
    {   -150,      0,   -200 },
    {   -122,      0,   -200 },
    {    150,    120,   -200 },
    {    150,      0,   -200 },
    {   -112,      0,     45 },
    {   -112,    120,     45 },
    {   -112,    120,    245 },
    {   -112,      0,    245 },
    {   -144,      0,     45 },
    {   -144,    120,     45 },
};

CollisionHeader tent_sceneCollisionHeader_00064C = { 
    { -156, 0, -200 },
    { 157, 156, 280 },
    ARRAY_COUNT(tent_sceneCollisionHeader_00064CVertices), tent_sceneCollisionHeader_00064CVertices,
    ARRAY_COUNT(tent_sceneCollisionHeader_00064CPolygons), tent_sceneCollisionHeader_00064CPolygons,
    tent_sceneCollisionHeader_00064CSurfaceType,
    tent_sceneCollisionHeader_00064CCamDataList,
    0, NULL
};

